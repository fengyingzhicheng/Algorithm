package leetcode.editor.cn;

//ç»™å®šä¸¤ä¸ªå¤§å°åˆ†åˆ«ä¸º m å’Œ n çš„æ­£åºï¼ˆä»å°åˆ°å¤§ï¼‰æ•°ç»„ nums1 å’Œ nums2ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›è¿™ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ ä¸­ä½æ•° ã€‚ 
//
// ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥ä¸º O(log (m+n)) ã€‚ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//è¾“å…¥ï¼šnums1 = [1,3], nums2 = [2]
//è¾“å‡ºï¼š2.00000
//è§£é‡Šï¼šåˆå¹¶æ•°ç»„ = [1,2,3] ï¼Œä¸­ä½æ•° 2
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// 
//è¾“å…¥ï¼šnums1 = [1,2], nums2 = [3,4]
//è¾“å‡ºï¼š2.50000
//è§£é‡Šï¼šåˆå¹¶æ•°ç»„ = [1,2,3,4] ï¼Œä¸­ä½æ•° (2 + 3) / 2 = 2.5
// 
//
// ç¤ºä¾‹ 3ï¼š 
//
// 
//è¾“å…¥ï¼šnums1 = [0,0], nums2 = [0,0]
//è¾“å‡ºï¼š0.00000
// 
//
// ç¤ºä¾‹ 4ï¼š 
//
// 
//è¾“å…¥ï¼šnums1 = [], nums2 = [1]
//è¾“å‡ºï¼š1.00000
// 
//
// ç¤ºä¾‹ 5ï¼š 
//
// 
//è¾“å…¥ï¼šnums1 = [2], nums2 = []
//è¾“å‡ºï¼š2.00000
// 
//
// 
//
// æç¤ºï¼š 
//
// 
// nums1.length == m 
// nums2.length == n 
// 0 <= m <= 1000 
// 0 <= n <= 1000 
// 1 <= m + n <= 2000 
// -10â¶ <= nums1[i], nums2[i] <= 10â¶ 
// 
// Related Topics æ•°ç»„ äºŒåˆ†æŸ¥æ‰¾ åˆ†æ²» ğŸ‘ 4956 ğŸ‘ 0

class å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•° {
    public static void main(String[] args) {
        Solution solution = new å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°().new Solution();

        System.out.println(solution.findMedianSortedArrays(new int[]{1, 2}, new int[]{3, 4}));

    }

    //leetcode submit region begin(Prohibit modification and deletion)
    class Solution {
        public double findMedianSortedArrays(int[] nums1, int[] nums2) {
            //ç»™å®šä¸¤ä¸ªæœ‰åºæ•°ç»„ï¼Œè¦æ±‚æ‰¾åˆ°ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„ä¸­ä½æ•°ï¼Œæœ€ç›´è§‚çš„æ€è·¯æœ‰ä»¥ä¸‹ä¸¤ç§ï¼š
            //
            //ä½¿ç”¨å½’å¹¶çš„æ–¹å¼ï¼Œåˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ï¼Œå¾—åˆ°ä¸€ä¸ªå¤§çš„æœ‰åºæ•°ç»„ã€‚å¤§çš„æœ‰åºæ•°ç»„çš„ä¸­é—´ä½ç½®çš„å…ƒç´ ï¼Œå³ä¸ºä¸­ä½æ•°ã€‚
            //
            //ä¸éœ€è¦åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ï¼Œåªè¦æ‰¾åˆ°ä¸­ä½æ•°çš„ä½ç½®å³å¯ã€‚ç”±äºä¸¤ä¸ªæ•°ç»„çš„é•¿åº¦å·²çŸ¥ï¼Œå› æ­¤ä¸­ä½æ•°å¯¹åº”çš„ä¸¤ä¸ªæ•°ç»„çš„ä¸‹æ ‡ä¹‹å’Œä¹Ÿæ˜¯å·²çŸ¥çš„ã€‚
            // ç»´æŠ¤ä¸¤ä¸ªæŒ‡é’ˆï¼Œåˆå§‹æ—¶åˆ†åˆ«æŒ‡å‘ä¸¤ä¸ªæ•°ç»„çš„ä¸‹æ ‡ 00 çš„ä½ç½®ï¼Œæ¯æ¬¡å°†æŒ‡å‘è¾ƒå°å€¼çš„æŒ‡é’ˆåç§»ä¸€ä½ï¼ˆå¦‚æœä¸€ä¸ªæŒ‡é’ˆå·²ç»åˆ°è¾¾æ•°ç»„æœ«å°¾ï¼Œåˆ™åªéœ€è¦ç§»åŠ¨å¦ä¸€ä¸ªæ•°ç»„çš„æŒ‡é’ˆï¼‰ï¼Œ
            // ç›´åˆ°åˆ°è¾¾ä¸­ä½æ•°çš„ä½ç½®ã€‚
            //
            //å‡è®¾ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„é•¿åº¦åˆ†åˆ«ä¸º mm å’Œ nnï¼Œä¸Šè¿°ä¸¤ç§æ€è·¯çš„å¤æ‚åº¦å¦‚ä½•ï¼Ÿ
            //
            //ç¬¬ä¸€ç§æ€è·¯çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(m+n)O(m+n)ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯ O(m+n)O(m+n)ã€‚
            // ç¬¬äºŒç§æ€è·¯è™½ç„¶å¯ä»¥å°†ç©ºé—´å¤æ‚åº¦é™åˆ° O(1)O(1)ï¼Œä½†æ˜¯æ—¶é—´å¤æ‚åº¦ä»æ˜¯ O(m+n)O(m+n)ã€‚


            //å¦‚ä½•æŠŠæ—¶é—´å¤æ‚åº¦é™ä½åˆ° O(\log(m+n))O(log(m+n)) å‘¢ï¼Ÿå¦‚æœå¯¹æ—¶é—´å¤æ‚åº¦çš„è¦æ±‚æœ‰ \loglogï¼Œ
            // é€šå¸¸éƒ½éœ€è¦ç”¨åˆ°äºŒåˆ†æŸ¥æ‰¾ï¼Œè¿™é“é¢˜ä¹Ÿå¯ä»¥é€šè¿‡äºŒåˆ†æŸ¥æ‰¾å®ç°ã€‚
            //
            //æ ¹æ®ä¸­ä½æ•°çš„å®šä¹‰ï¼Œå½“ m+nm+n æ˜¯å¥‡æ•°æ—¶ï¼Œä¸­ä½æ•°æ˜¯ä¸¤ä¸ªæœ‰åºæ•°ç»„ä¸­çš„ç¬¬ (m+n)/2(m+n)/2 ä¸ªå…ƒç´ ï¼Œå½“ m+nm+n æ˜¯å¶æ•°æ—¶ï¼Œ
            // ä¸­ä½æ•°æ˜¯ä¸¤ä¸ªæœ‰åºæ•°ç»„ä¸­çš„ç¬¬ (m+n)/2(m+n)/2 ä¸ªå…ƒç´ å’Œç¬¬ (m+n)/2+1(m+n)/2+1 ä¸ªå…ƒç´ çš„å¹³å‡å€¼ã€‚
            // å› æ­¤ï¼Œè¿™é“é¢˜å¯ä»¥è½¬åŒ–æˆå¯»æ‰¾ä¸¤ä¸ªæœ‰åºæ•°ç»„ä¸­çš„ç¬¬ kk å°çš„æ•°ï¼Œå…¶ä¸­ kk ä¸º (m+n)/2(m+n)/2 æˆ– (m+n)/2+1(m+n)/2+1ã€‚

            int m = nums1.length;
            int n = nums2.length;

            //å¦‚æœm+næ˜¯å¥‡æ•°æ‰¾åˆ° (m+n)/2
            //å¦‚æœm+næ˜¯å¶æ•°æ‰¾åˆ° (m+n)/2 å’Œ (m+n)/2+1 æ±‚å’Œé™¤ä»¥2
            //è½¬åŒ–æˆå¯»æ‰¾ä¸¤ä¸ªæœ‰åºæ•°ç»„ä¸­çš„ç¬¬ kå°çš„æ•°ï¼Œå…¶ä¸­ k ä¸º (m+n)/2(m+n)/2 æˆ– (m+n)/2+1(m+n)/2+1ã€‚

            int len = m + n;
            //é»˜è®¤æ˜¯å·¦ä¾§
            int left = -1;
            int right = -1;
            int aStart = 0, bStart = 0;
            for (int i = 0; i <= len / 2; i++) {
                //left è¡¨ç¤ºå½“å‰æŒ‡é’ˆçš„ä¸Šä¸€ä¸ªä½ç½® å€¼
                //right è¡¨ç¤ºå½“å‰æŒ‡å‘çš„å€¼
                left = right;

                //æ­£å¸¸ ä¸­ä½æ•°æ‰¾åˆ° aStart bStart éƒ½æ²¡ç´¢å¼•è¶Šç•Œ

                //TODO å½“å‰æœ€å°å€¼å¦‚ä½•å¯»æ‰¾
                if (aStart < m && (bStart >= n || nums1[aStart] < nums2[bStart])) {
                    right = nums1[aStart++];
                } else {
                    right = nums2[bStart++];
                }
            }
            if (len % 2 == 0) {
                return (left + right) / 2.0;
            } else {
                return right;
            }

        }
    }
//leetcode submit region end(Prohibit modification and deletion)

}
